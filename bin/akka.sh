#!/bin/sh
CLASSPATH=/work/sltu/scala-remote-actors-perf-tests/akka/target/test-classes:/work/sltu/scala-remote-actors-perf-tests/akka/target/classes:/work/sltu/repository/org/scala-lang/scala-library/2.8.0.RC3/scala-library-2.8.0.RC3.jar:/work/sltu/repository/org/scala-lang/scala-compiler/2.8.0.RC3/scala-compiler-2.8.0.RC3.jar:/work/sltu/repository/org/apache/commons/commons-math/2.1/commons-math-2.1.jar:/work/sltu/repository/se/scalablesolutions/akka/akka-core_2.8.0.RC3/0.9.1/akka-core_2.8.0.RC3-0.9.1.jar:/work/sltu/repository/org/codehaus/jackson/jackson-mapper-asl/1.2.1/jackson-mapper-asl-1.2.1.jar:/work/sltu/repository/org/codehaus/jackson/jackson-core-asl/1.2.1/jackson-core-asl-1.2.1.jar:/work/sltu/repository/org/guiceyfruit/guice-all/2.0/guice-all-2.0.jar:/work/sltu/repository/net/lag/configgy/2.8.0.RC3-1.5.2-SNAPSHOT/configgy-2.8.0.RC3-1.5.2-SNAPSHOT.jar:/work/sltu/repository/org/multiverse/multiverse-alpha/0.5.2/multiverse-alpha-0.5.2.jar:/work/sltu/repository/org/multiverse/multiverse-core/0.5.2/multiverse-core-0.5.2.jar:/work/sltu/repository/org/multiverse/multiverse-instrumentation/0.5.2/multiverse-instrumentation-0.5.2.jar:/work/sltu/repository/asm/asm/3.2/asm-3.2.jar:/work/sltu/repository/asm/asm-tree/3.2/asm-tree-3.2.jar:/work/sltu/repository/asm/asm-analysis/3.2/asm-analysis-3.2.jar:/work/sltu/repository/asm/asm-commons/3.2/asm-commons-3.2.jar:/work/sltu/repository/asm/asm-util/3.2/asm-util-3.2.jar:/work/sltu/repository/asm/asm-all/3.2/asm-all-3.2.jar:/work/sltu/repository/org/apache/geronimo/specs/geronimo-jta_1.1_spec/1.1.1/geronimo-jta_1.1_spec-1.1.1.jar:/work/sltu/repository/jgroups/jgroups/2.9.0.GA/jgroups-2.9.0.GA.jar:/work/sltu/repository/sbinary/sbinary/2.8.0.RC3-0.3.1-SNAPSHOT/sbinary-2.8.0.RC3-0.3.1-SNAPSHOT.jar:/work/sltu/repository/net/databinder/dispatch-json_2.8.0.RC3/0.7.4/dispatch-json_2.8.0.RC3-0.7.4.jar:/work/sltu/repository/commons-io/commons-io/1.4/commons-io-1.4.jar:/work/sltu/repository/jsr166x/jsr166x/1.0/jsr166x-1.0.jar:/work/sltu/repository/net/databinder/dispatch-http_2.8.0.RC3/0.7.4/dispatch-http_2.8.0.RC3-0.7.4.jar:/work/sltu/repository/org/apache/httpcomponents/httpclient/4.0.1/httpclient-4.0.1.jar:/work/sltu/repository/org/apache/httpcomponents/httpcore/4.0.1/httpcore-4.0.1.jar:/work/sltu/repository/commons-logging/commons-logging/1.1.1/commons-logging-1.1.1.jar:/work/sltu/repository/commons-codec/commons-codec/1.3/commons-codec-1.3.jar:/work/sltu/repository/net/databinder/dispatch-futures_2.8.0.RC3/0.7.4/dispatch-futures_2.8.0.RC3-0.7.4.jar:/work/sltu/repository/aopalliance/aopalliance/1.0/aopalliance-1.0.jar:/work/sltu/repository/org/codehaus/aspectwerkz/aspectwerkz-jdk5/2.1/aspectwerkz-jdk5-2.1.jar:/work/sltu/repository/org/jboss/netty/netty/3.2.0.CR1/netty-3.2.0.CR1.jar:/work/sltu/repository/sjson/json/sjson/0.6-SNAPSHOT-2.8.RC3/sjson-0.6-SNAPSHOT-2.8.RC3.jar:/work/sltu/repository/org/codehaus/aspectwerkz/aspectwerkz-nodeps-jdk5/2.1/aspectwerkz-nodeps-jdk5-2.1.jar:/work/sltu/repository/voldemort/store/compress/h2-lzf/1.0/h2-lzf-1.0.jar:/work/sltu/repository/com/google/protobuf/protobuf-java/2.3.0/protobuf-java-2.3.0.jar:/work/sltu/repository/org/scala-tools/maven-scala-plugin/2.14.1/maven-scala-plugin-2.14.1.jar
JVMARGS="-server -Xms2048m -Xmx2048m -XX:+UseParallelGC -XX:+AggressiveOpts -XX:+UseFastAccessorMethods -XX:+HeapDumpOnOutOfMemoryError"
cat <<EOF > /scratch/sltu/akka.conf
akka {
  remote {
    compression-scheme = ""
    server {
        hostname = "`hostname`"
    }
  }
}
EOF
/usr/lib/jvm/java-6-sun-1.6.0.12/jre/bin/java $JVMARGS -Dakka.config=/scratch/sltu/akka.conf -classpath $CLASSPATH perftest.akka.Test $@
